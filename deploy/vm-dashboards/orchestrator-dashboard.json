{
  "title": "AgentsDashboard Orchestrator",
  "description": "Comprehensive metrics dashboard for AI orchestration platform",
  "tags": ["orchestrator", "monitoring", "production"],
  "panels": [
    {
      "title": "Jobs/Second",
      "type": "graph",
      "description": "Job processing throughput per second",
      "query": "rate(orchestrator_jobs_total[1m])",
      "unit": "ops",
      "legend": "Jobs/sec"
    },
    {
      "title": "Runs/Minute",
      "type": "graph",
      "description": "Run execution throughput per minute",
      "query": "rate(orchestrator_runs_total[5m]) * 60",
      "unit": "runs/min",
      "legend": "Runs/min"
    },
    {
      "title": "Run Throughput Trend",
      "type": "graph",
      "description": "Historical run throughput over time",
      "query": "rate(orchestrator_runs_total[5m])",
      "unit": "ops"
    },
    {
      "title": "Status Update Latency P50",
      "type": "graph",
      "description": "Median status update latency",
      "query": "histogram_quantile(0.50, rate(orchestrator_status_update_duration_seconds_bucket[5m]))",
      "unit": "s"
    },
    {
      "title": "Status Update Latency P95",
      "type": "graph",
      "description": "95th percentile status update latency",
      "query": "histogram_quantile(0.95, rate(orchestrator_status_update_duration_seconds_bucket[5m]))",
      "unit": "s"
    },
    {
      "title": "Status Update Latency P99",
      "type": "graph",
      "description": "99th percentile status update latency",
      "query": "histogram_quantile(0.99, rate(orchestrator_status_update_duration_seconds_bucket[5m]))",
      "unit": "s"
    },
    {
      "title": "Run Duration P95 (seconds)",
      "type": "graph",
      "description": "95th percentile run duration",
      "query": "histogram_quantile(0.95, rate(orchestrator_run_duration_seconds_bucket[5m]))",
      "unit": "s"
    },
    {
      "title": "Failure Rate by Harness",
      "type": "graph",
      "description": "Percentage of failed runs grouped by harness type",
      "query": "rate(orchestrator_runs_total{state=\"failed\"}[5m]) / rate(orchestrator_runs_total[5m]) * 100 by (harness)",
      "unit": "percent"
    },
    {
      "title": "Error Categories (last 1h)",
      "type": "pie",
      "description": "Distribution of error types",
      "query": "sum by (error_type) (increase(orchestrator_errors_total[1h]))",
      "unit": "errors"
    },
    {
      "title": "Failed Runs (last 1h)",
      "type": "stat",
      "description": "Total failed runs in the last hour",
      "query": "increase(orchestrator_runs_total{state=\"failed\"}[1h])",
      "unit": "runs",
      "thresholds": {
        "warning": 10,
        "critical": 50
      }
    },
    {
      "title": "Error Rate Trend",
      "type": "graph",
      "description": "Error rate over time",
      "query": "rate(orchestrator_errors_total[5m])",
      "unit": "errors/s"
    },
    {
      "title": "Errors by Category",
      "type": "graph",
      "description": "Error count grouped by error type",
      "query": "rate(orchestrator_errors_total[5m]) by (error_category)",
      "unit": "errors/s"
    },
    {
      "title": "Pending Jobs",
      "type": "stat",
      "description": "Current number of pending jobs in queue",
      "query": "orchestrator_pending_jobs",
      "unit": "jobs",
      "thresholds": {
        "warning": 100,
        "critical": 500
      }
    },
    {
      "title": "Active Jobs",
      "type": "stat",
      "description": "Currently executing jobs",
      "query": "orchestrator_active_jobs",
      "unit": "jobs"
    },
    {
      "title": "Queue Depth Trend",
      "type": "graph",
      "description": "Queue depth over time",
      "query": "orchestrator_queued_runs",
      "unit": "jobs"
    },
    {
      "title": "Queue Wait Time P95",
      "type": "graph",
      "description": "95th percentile time jobs spend in queue",
      "query": "histogram_quantile(0.95, rate(orchestrator_queue_wait_seconds_bucket[5m]))",
      "unit": "s"
    },
    {
      "title": "Active Worker Slots",
      "type": "stat",
      "description": "Number of worker slots currently in use",
      "query": "sum(orchestrator_worker_active_slots)",
      "unit": "slots"
    },
    {
      "title": "Available Worker Slots",
      "type": "stat",
      "description": "Number of available worker slots",
      "query": "sum(orchestrator_worker_max_slots) - sum(orchestrator_worker_active_slots)",
      "unit": "slots"
    },
    {
      "title": "Worker Utilization %",
      "type": "gauge",
      "description": "Overall worker capacity utilization",
      "query": "sum(orchestrator_worker_active_slots) / sum(orchestrator_worker_max_slots) * 100",
      "unit": "percent",
      "thresholds": {
        "warning": 75,
        "critical": 90
      }
    },
    {
      "title": "Worker Slots by Host",
      "type": "graph",
      "description": "Active vs max slots per worker host",
      "query": "orchestrator_worker_active_slots / orchestrator_worker_max_slots by (host)",
      "unit": "ratio"
    },
    {
      "title": "Active Runs",
      "type": "stat",
      "description": "Currently executing runs",
      "query": "orchestrator_active_runs",
      "unit": "runs"
    },
    {
      "title": "Harness Execution by Provider",
      "type": "graph",
      "description": "Run throughput grouped by harness type",
      "query": "rate(orchestrator_runs_total[5m]) by (harness)",
      "unit": "ops"
    },
    {
      "title": "Finding Rate",
      "type": "graph",
      "description": "Rate of findings being created",
      "query": "rate(orchestrator_findings_total[5m])",
      "unit": "findings/s"
    },
    {
      "title": "Findings by Severity",
      "type": "graph",
      "description": "Findings grouped by severity level",
      "query": "rate(orchestrator_findings_total[5m]) by (severity)",
      "unit": "findings/s"
    },
    {
      "title": "Proxy Request Latency P95",
      "type": "graph",
      "description": "95th percentile proxy request latency",
      "query": "histogram_quantile(0.95, rate(orchestrator_proxy_duration_seconds_bucket[5m]))",
      "unit": "s"
    },
    {
      "title": "Proxy Requests/sec",
      "type": "graph",
      "description": "Proxy request throughput",
      "query": "rate(orchestrator_proxy_requests_total[5m])",
      "unit": "ops"
    },
    {
      "title": "Proxy Errors",
      "type": "graph",
      "description": "Proxy error rate",
      "query": "rate(orchestrator_proxy_errors_total[5m])",
      "unit": "errors/s"
    },
    {
      "title": "Alert Firing Rate",
      "type": "graph",
      "description": "Rate of alert rule triggers",
      "query": "rate(orchestrator_alerts_fired_total[5m])",
      "unit": "alerts/s"
    },
    {
      "title": "Webhook Deliveries",
      "type": "graph",
      "description": "Webhook delivery success/failure rate",
      "query": "rate(orchestrator_webhook_deliveries_total[5m]) by (status)",
      "unit": "ops"
    },
    {
      "title": "SignalR Connections",
      "type": "stat",
      "description": "Active SignalR connections",
      "query": "orchestrator_signalr_connections_active",
      "unit": "connections"
    },
    {
      "title": "gRPC Request Latency",
      "type": "graph",
      "description": "gRPC call latency percentiles",
      "query": "histogram_quantile(0.95, rate(orchestrator_grpc_duration_seconds_bucket[5m]))",
      "unit": "s"
    }
  ]
}
